<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-instana-v2/server-and-agent-install-lab/server-installation/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">3. Instana Server Installation (Standard Edition) | IBM TechXchange Instana Labs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/server-installation/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="3. Instana Server Installation (Standard Edition) | IBM TechXchange Instana Labs"><meta data-rh="true" name="description" content="How to install the Instana Server on a single server Self-Hosted configuration"><meta data-rh="true" property="og:description" content="How to install the Instana Server on a single server Self-Hosted configuration"><link data-rh="true" rel="icon" href="/instana-techxchange/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://github.com/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/server-installation/"><link data-rh="true" rel="alternate" href="https://github.com/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/server-installation/" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/server-installation/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WTTHT6SEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WTTHT6SEH",{anonymize_ip:!0})</script><link rel="stylesheet" href="/instana-techxchange/assets/css/styles.031e323a.css">
<link rel="preload" href="/instana-techxchange/assets/js/runtime~main.7251d3dc.js" as="script">
<link rel="preload" href="/instana-techxchange/assets/js/main.085aa390.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/instana-techxchange/"><div class="navbar__logo"><img src="/instana-techxchange/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/instana-techxchange/img/ibm-watson-logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">IBM TechXchange</b></a><a class="navbar__item navbar__link" href="/instana-techxchange/labs/general/">Labs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IBM/instana-techxchange" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/instana-techxchange/labs/jam-in-a-box/">Jam-in-a-Box</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/instana-techxchange/labs/general/">General</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/instana-techxchange/labs/instana-v2/introduction/">Instana Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/instana-techxchange/labs/instana-v2/introduction/">Labs Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/introduction/">Server &amp; Agent Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/introduction/">1. Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/lab-environment/">2. Lab Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/server-installation/">3. Instana Server Installation (Standard Edition)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/agent-installation/">4. Agent Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/quiz/">Quiz</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/applications-and-ibm-middleware/introduction/">Applications &amp; IBM Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/explore-instana/introduction/">Explore Instana</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/administer-instana/administer/">Administer Instana</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/synthetic-pop/introduction/">Synthetic Monitoring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/opentelemetry/agent-installation/">OpenTelemetry</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/instana-techxchange/labs/instana-v2/Diagnose/Introduction/">Diagnose</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/instana-techxchange/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Instana Labs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Server &amp; Agent Installation</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">3. Instana Server Installation (Standard Edition)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Instana Server Installation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="31-introduction">3.1: Introduction<a href="#31-introduction" class="hash-link" aria-label="Direct link to 3.1: Introduction" title="Direct link to 3.1: Introduction">​</a></h2><p>Instana refers to their on-premises deployment as <strong>self-hosted</strong> and the Instana Server as the <strong>Instana backend</strong>.
Throughout this document, if you see <strong>Instana Server</strong>, we are referring to the <strong>self-hosted Instana backend</strong>.</p><p>Instana server is available as SaaS (preferred option) or self hosted (aka
on-prem). For on-premises installations, Instana offers multiple options:</p><ul><li><strong>Standard Edition</strong> is a <em>containerized</em> self-hosted deployment that can be deployed
on a single server configuration or a 3 server configuration. Self-Hosted is what Instana calls its on-premises deployments.
Under the covers, Standard Edition uses K3S kubernetes. But, nearly all of the kubernetes complexity is managed for
our customers via the use of the <em>stanctl</em> command.   This option is the perferred self-hosted
deployment for small and medium sized deployments.  Standard Edition is a multi-tenant solution
that supports all recent Instana enhancements.</li><li><strong>Custom Edition</strong> with the cloud native backend components running in
a kubernetes cluster and the datastores running either distributed across
multiple servers or in the kubernetes cluster. This configuration is
multi-tenant and intended for large scale deployments and for customers looking for a fully
resilient deployment with data replicated to multiple servers. For assistance with architecture/planning, contact the SWAT team
or open a <a href="http://ibm.biz/automation-swat" target="_blank" rel="noopener noreferrer">SWAT Request</a> request (IBM
internal) or contact your IBM sales representative.</li><li><strong>Docker</strong> self-hosted is a <em>Containerized</em> deployment that does not
support multi-tenancy. Of course, on-premises could be deployed into a public cloud.
The Docker deployment offers both a single server and a 2 server configuration.
This option is no longer strategic and lacks a few key capabilities including
logging, synthetics, and the Automation catalog.</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>On-premises (self-hosted) releases are delivered every 4 weeks. The release have
odd numbers such as 263, 265, 267, etc. When upgrading, you may upgrade from N-1
or N-2, but you can&#x27;t skip more than one release. So, you can upgrade from 265
to 267 or 269, but not to 271. Even numbered releases are for SaaS only. SaaS is
upgraded every 2 weeks.</p></div></div><p>For the installation of the Instana server, we&#x27;ll be following the instructions
from the Instana documentation for <strong>Installing Standard Edition</strong>.
The instructions can be found
<a href="https://www.ibm.com/docs/en/instana-observability/current?topic=backend-installing-standard-edition" target="_blank" rel="noopener noreferrer">here</a>
for your reference, but you can follow the steps below. You will be performing
an air-gapped installation during TechXchange, but Instana does support on-line installs.</p><p><em>Standard Edition</em> is one of Instana&#x27;s smallest on-premises
installation options and can be configured for POCs and small/medium sized production environments.
Standard Edition does offer a 3 server configuration for increased scalability, but does not match the scalability
and resiliency of a full <em>Custom Edition</em> kubernetes based deployment.  The installation of Instana will
be completed on the VM <strong>instana</strong>.</p><p><img loading="lazy" alt="install instana architecture" src="/instana-techxchange/assets/images/labEnvironment-8450ca73ab9658cd0155917327fdd446.png" width="973" height="733" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="32-prerequisites">3.2: Prerequisites<a href="#32-prerequisites" class="hash-link" aria-label="Direct link to 3.2: Prerequisites" title="Direct link to 3.2: Prerequisites">​</a></h2><p>Instana requires a Linux server with 16 cores, 64 Gig of RAM and few hundred Gig
of disk space for a POC sized deployment.  However, if you want to enable some of the optional <em>feature flags</em>
such as <strong>logging</strong>, <strong>synthethics</strong>, or the <strong>Automation catalog</strong>, you will need additional vCPUs and memory.  </p><p>If the optional features are required, see the additional vCPU and memory requirements documented
<a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-system-requirements#cpu-and-memory-requirements" target="_blank" rel="noopener noreferrer">here</a>.   </p><p>It also requires fast backend storage.
For environments with even a few hundred servers, you&#x27;ll need 6000 IOPS or more.
For larger deployments, you&#x27;ll need more capacity. Several different versions of
Linux are supported. We have chosen Red Hat 9 for this environment.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Normally, you would need to ensure that the virtual machine has the correct
ports opened in the firewall for the agent, UI, and EUM communications. We have
already done this work for you. For reference,
<a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-system-requirements#networking-requirements" target="_blank" rel="noopener noreferrer">here</a> are the ports.
that need to be opened for the Instana Server for an on-prem deployment. The
The ports for SaaS, Docker, and Custom Edition are slightly different.</p></div></div><p>You are now ready to access the lab environment.  All work will be done from the <strong>student</strong> virtual machine.</p><p>Click on the <strong>student</strong> virtual machine to open the desktop on the <strong>student</strong> VM.</p><p><img loading="lazy" alt="student-vm" src="/instana-techxchange/assets/images/studentVM-53cc1517fa7240ece546977e0ddc47ea.png" width="1146" height="463" class="img_ev3q"></p><p>Next, double click on the <strong>Terminal</strong> icon within the Linux desktop to launch a terminal window.</p><p><img loading="lazy" alt="terminal" src="/instana-techxchange/assets/images/desktop-b209f768d6b2b00e207a7f6289bcf0fc.png" width="373" height="565" class="img_ev3q"></p><p>Next, ssh to the Instana server VM from within the terminal window.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh root@instana</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When prompted, enter &quot;Passw0rd&quot; to specify the root password on the Instana server.  The password contains an upper case &quot;P&quot; and a &quot;zero&quot; instead of the letter &quot;O&quot;.</p><p>You should now be logged into the Instana server virtual machine as the root user.</p><p>Prior to installing Instana, there are a number of prerequisites that need to be in place.  </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>For this lab, we have already setup the prerequisites, but it is important that we review them here.<br>
<!-- -->For reference, the requirements are documented <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-system-requirements" target="_blank" rel="noopener noreferrer">here</a>.<br>
<!-- -->Key prereqs are:</p><ul><li>Filesystems must be setup properly on the server.  Key requirements are:<ul><li>Approximately 60 Gig of space in the /var filesystem to store the container images that will be used for Instana.</li><li>Approximately 40 Gig of space in the /home directory.</li><li>Four large filesystems to store the data.  In your lab enviroment, you will see the following 4 directories:
(/mnt/instana/stanctl/analytics, /mnt/instana/stanctl/data, /mnt/instana//stanctl/metrics, /mnt/instana/stanctl/objects)
For POCs and smaller environments, it is okay to use a single filesystem, but for larger production environments, these should be separate filesystems with very fast disk I/O performance.</li></ul></li></ul><p>Note: For this lab we setup directories for the Instana installation.  Normally, these are setup as separate filesystems.</p><p>Firewall ports need to be opened for inbound and outbound connections on key ports.  This has already been setup on the server,
but the ports are documented <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-system-requirements#networking-requirements" target="_blank" rel="noopener noreferrer">here</a></p><p>A few kernel tuning changes are required in order to optimize performance for Instana.  They kernel changes are documented <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-preparing#kernel-parameters" target="_blank" rel="noopener noreferrer">here</a>
but have already been setup in your lab environment.  </p><p>Prior to setting up Instana, you must setup DNS entries and aliases for the Instana server and key URLs such as the Agent ingress, OpenTelemetry ingress, etc.
The required DNS entries are documented <a href="https://www.ibm.com/docs/en/instana-observability/current?topic=cluster-preparing#dns-settings" target="_blank" rel="noopener noreferrer">here</a>, but have already been setup in your lab environment.</p><p>Once, the prerequisites have been setup, you are ready to install the Instana server.  We will be performing an air-gapped installed.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="33-installing-the-stanctl-command">3.3: Installing the stanctl Command<a href="#33-installing-the-stanctl-command" class="hash-link" aria-label="Direct link to 3.3: Installing the stanctl Command" title="Direct link to 3.3: Installing the stanctl Command">​</a></h2><p>The first step is to install the <strong>stanctl</strong> command on the Instana server virtual machine.   This command will be used to install
the Instana server as well as perform administrative tasks.  This command helps reduce the complexity of installing and administering
an Instana server.  In an air-gapped environment, you would run these commands from a bastion node and then extract the stanctl command from the air-gapped package.
Since this environment is not air-gapped, we&#x27;ll be running the commands on the Instana server.<br>
<!-- -->The steps below are the same steps that you would run on the Bastion node in an air-gapped environment.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The following steps will install the <strong>stanctl</strong> command on the server.   </p></div></div><p>First, you must setup the yum repository. Then, install the <strong>stanctl</strong> command from the yum repository.</p><p>Begin by setting a DOWNLOAD_KEY environment variable.  When you get an Instana license, you are given a Download/Agent Key and a Sales Key.</p><p>In this lab, you can get the Download Key from the /media/readme.txt file</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat /media/readme.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Copy and paste the Download Key and run the following command.  But, make sure you replace <strong>&lt;download_key&gt;</strong> with the actual download key from the readme.txt file.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export DOWNLOAD_KEY=&lt;download_key&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next execute the following command.  This will add the Instana repository to your list of Red Hat yum repositories.  Similar commands are documented for Debian/Ubuntu and SUSE Linux.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt; EOF &gt; /etc/yum.repos.d/Instana-Product.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[instana-product]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=Instana-Product</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">baseurl=https://_:$DOWNLOAD_KEY@artifact-public.instana.io/artifactory/rel-rpm-public-virtual/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enabled=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgcheck=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gpgkey=https://_:$DOWNLOAD_KEY@artifact-public.instana.io/artifactory/api/security/keypair/public/repositories/rel-rpm-public-virtual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repo_gpgcheck=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, install the <strong>stanctl</strong> command by typing:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install -y stanctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Verify that the stanctl command has been successfully installed, is in your path, and is the correct version, by typing:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output should look something like this:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl version 1.2.1 (commit=a3a91ef3db195cfbba3e4b9415d4afa610c49e12, date=2024-05-31T10:27:43Z)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This tells you that you have version 1.2.1 of the stanctl command installed.  This version is actually slightly old.  We have intentionally pinned
this version in the yum repository to ensure that the stanctl command version matches the air-gapped package that we have downloaded.</p><p>We recommend pinning the version to ensure that the <strong>stanctl</strong> command does not accidentally get upgraded when you upgrade the operating system.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="34-installing-the-instana-server">3.4: Installing the Instana Server<a href="#34-installing-the-instana-server" class="hash-link" aria-label="Direct link to 3.4: Installing the Instana Server" title="Direct link to 3.4: Installing the Instana Server">​</a></h2><p>You are now ready to install the Instana Server</p><p>Normally, the next step would be to download the air-gapped package by typing <strong>stanctl air-gapped package</strong> on a bastion node.  </p><p>This would download the air-gapped package.   Then, you would copy the tar file to the Instana server.   We have already executed that step and placed
the air-gapped package in /root directory.  You will see a file called /root/instana-airgapped.tar.gz.  We will be using that file to perform the install.</p><p>The next step is to import the air-gapped package into your server.  Initiate this command by typing:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl air-gapped import -f /root/instana-airgapped.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see output similar to what&#x27;s shown below.</p><p><img loading="lazy" alt="import" src="/instana-techxchange/assets/images/import-bc9b07067819067b843622cb7da8cd72.png" width="768" height="144" class="img_ev3q"></p><p>Once the air-gapped package has been imported, you can perform the air-gapped install.</p><p>To install the Instana server, you will use the <strong>stanctl up</strong> command.  This command has a number of options.  If you type <strong>stanctl up --help</strong>
you can the available options.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl up --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you evaluate the output, you&#x27;ll see a few very important flags that are described below.</p><ul><li>--air-gapped:  This option indicates that you want to perform an air-gapped install.  If you don&#x27;t specify this flag, stanctl will attempt to access the external repositories to download the code.</li><li>--core-smtp-from:  This specifies the user that sends emails from the Instana server</li><li>--core-smtp-host:  This the hostname or IP address of the SMTP server that Instana will use in order to send emails.</li><li>--core.smtp-port:  Specifies the port number of the SMTP server</li><li>--timeout:  This specifies the number of minutes and seconds in which the installation must complete.  The default is 30 minutes (30m0s)</li></ul><p>Normally, the install finishes within 15 to 20 minutes on a fast server.  However, during TechXchange, the servers are under heavy load.
So, we want to increase the timeout value from 30 minutes to 60 minutes to ensure that it has time to complete.</p><p>We&#x27;re now ready to initiate the installation. Issue the following command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl up --air-gapped --core-smtp-from lab@techxchange.com --core-smtp-host instana.training --core-smtp-port 25 --timeout 60m0s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command will install the Instana backend (server) and configure the SMTP settings.</p><p>After issuing the command, you will be prompted for a number of required parameters.  The Download Key and Sales Key can be found in the /media/readme.txt file.</p><p>Please respond to the following prompts as seen below:
<img loading="lazy" alt="installPrompts" src="/instana-techxchange/assets/images/installPrompts-91f508b38c96cce688925d56e7b220c7.png" width="611" height="158" class="img_ev3q"></p><p>First, you will be prompted for the type of installation (demo or production).  Press <strong>Enter</strong> to accept the default <strong>demo</strong> server installation.</p><p>Next, you will be prompted for the <em>Download Key</em>.  When prompted, copy and paste the <strong>Download Key</strong> from the /media/readme.txt file.</p><p>You will be prompted for the <em>Sales key</em>.  At the prompt, copy and paste the <strong>Sales Key</strong> from the /media/readme.txt file.</p><p>Next, enter the <em>domain</em> for the Instana server.  This is typically the fully qualified hostname of the Instana server and needs to be registered in DNS.<br>
<!-- -->For this lab, type <strong>instana.training</strong>.</p><p>Enter the <em>tenant name</em> for this Instana server.  Instana is multi-tenant, so you must specify a tenant name.   Type <strong>labs</strong> for the <em>tenant name</em>.</p><p>Enter the <em>unit name</em> for the Instana server.  For this lab, type <strong>student</strong> for the <em>unit name</em>.  </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The tenant and unit name are very important.  They become part of the URL that is needed to access the Instana server.  The hostname for the URL must be registered in DNS.
So, for this lab, you MUST use the names specified in the lab guide to ensure your URL matches the DNS entries.  Ultimately, your Instana server URL will be <a href="https://student-labs.instana.training" target="_blank" rel="noopener noreferrer">https://student-labs.instana.training</a></p></div></div><p>Next, you will be prompted for the Instana <em>admin password</em>.  Type <strong>Passw0rd</strong> for the <em>password</em>.</p><p>Then, you will be prompted to confirm the <em>password</em>.  Again, type <strong>Passw0rd</strong>.</p><p>Finally, you will be prompted to enter a TLS certificate.  If you want to use your own signed certificate, you would enter the path and filename of the certificate.
In this case, just press the <strong>Enter</strong> key and the installer will generate a self-signed certificate.</p><p>Now that you have entered all of the required information, the installation will begin and should take about 20 to 30 minutes to complete.</p><p>After the installation completes, you will see an output similart to what&#x27;s shown below.</p><p><img loading="lazy" alt="installed" src="/instana-techxchange/assets/images/installFinished-499ccb9e140854797641eab7c99156d9.png" width="524" height="359" class="img_ev3q"></p><p>At the end of the installation, the last part of the installation output is the URL and username that will be used to access the Instana server.
Per the screen capture above, the URL will be <strong><a href="https://instana.training" target="_blank" rel="noopener noreferrer">https://instana.training</a></strong> and the username is <strong><a href="mailto:admin@instana.local" target="_blank" rel="noopener noreferrer">admin@instana.local</a></strong>.</p><p>You can login to that URL with the username and password that you specified during the installation (<strong>Passw0rd</strong>).</p><p>During the installation process, the license file was automatically downloaded and placed in the /root/.stanctl/license.json file.  It was also installed on the Instana server.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="35-launch-the-instana-user-interface">3.5: Launch the Instana User interface<a href="#35-launch-the-instana-user-interface" class="hash-link" aria-label="Direct link to 3.5: Launch the Instana User interface" title="Direct link to 3.5: Launch the Instana User interface">​</a></h2><p>Open the Firefox browser by clicking on the Firefox icon on the desktop.</p><p><img loading="lazy" alt="terminal" src="/instana-techxchange/assets/images/desktop-b209f768d6b2b00e207a7f6289bcf0fc.png" width="373" height="565" class="img_ev3q"></p><p>Once Firefox launches, enter the URL for the Instana server (<strong><a href="https://instana.training" target="_blank" rel="noopener noreferrer">https://instana.training</a></strong>) or click on the <strong>Instana</strong> bookmark on the menu bar.</p><p>Since you are using a self-signed certificate, you will see a security warning.  Click on Advanced.</p><p><img loading="lazy" alt="selfSigned" src="/instana-techxchange/assets/images/selfSigned-f5508480b8e904d841a7aa70bbd3c87c.png" width="870" height="225" class="img_ev3q"></p><p>Then, click <strong>Accept the Risk and Continue</strong></p><p><img loading="lazy" alt="accept" src="/instana-techxchange/assets/images/accept-745c90f31f9c88376f565e2592e9f86b.png" width="800" height="290" class="img_ev3q"></p><p>Finally, type in the username and password to log into the Instana server.  The username is <strong><a href="mailto:admin@instana.local" target="_blank" rel="noopener noreferrer">admin@instana.local</a></strong> and the password is <strong>Passw0rd</strong></p><p>Then, click the <strong>Login</strong> button.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/login-ba5966c5df2fa30d3bb9f8f46b3d0c5b.png" width="520" height="505" class="img_ev3q"></p><p>After logging in, you will receive another warning because the URL has done a redirect to add the unit and tenant into the URL.</p><p>Once again, click on Advanced and accept the risks and continue.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/acceptContinue-905ef1d90f3ee8b36a3985c16622400c.png" width="861" height="570" class="img_ev3q"></p><p>You should now see Instana&#x27;s welcome page where you can see many different options for installing Agents into different environments.   We&#x27;ll be using those in the next section of the lab.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/welcome-75bd407e3555d7815a637f2b37b2a03a.png" width="1601" height="667" class="img_ev3q"></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>If the Instana user interface is not available, do the following to diagnose.  First, confirm that you see the following message when your installation completed.
Specifically, you are looking for the string <strong>Successfully installed Instana Self-Hosted Standard Edition</strong>
<img loading="lazy" alt="installed" src="/instana-techxchange/assets/images/installFinished-499ccb9e140854797641eab7c99156d9.png" width="524" height="359" class="img_ev3q"></p><p>Assuming that the installation completed, confirm that all of the kubernetes pods are running.  Type <strong>kubectl get pods -A</strong></p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will see output similar to what&#x27;s shown below.  For each pod, you should see a status of <strong>Running</strong> and the Ready column should have 1/1 or 2/2, indicating that all of the expected containers are running.
If you see 0/1, it indicates that 1 container is expected and zero are running.   If you see 1/2, it means that 2 containers are expected, but only 1 is running.
<img loading="lazy" alt="installed" src="/instana-techxchange/assets/images/pods-496ac7a6916a8b2cbd2b48f88b205796.png" width="980" height="328" class="img_ev3q"></p><p>If you do see pods with 0/1, 1/2, or 0/2, look at the status column.<br>
<!-- -->Unless you see <strong>STATUS</strong> of <strong>CrashLoopBackoff</strong> or <strong>Error</strong> or <strong>CreateContainerError</strong>, it is likely that the Instana server is still starting up.
Give it a little more time.  Every minute or so, run the <strong>kubectl get pods -A</strong> command to see if additional pods have started. </p><p>Once all of the pods are <strong>Running</strong>, you should be able to log into the user interface.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="36-turning-on-optional-features-and-configuration-changes">3.6: Turning on optional features and configuration changes<a href="#36-turning-on-optional-features-and-configuration-changes" class="hash-link" aria-label="Direct link to 3.6: Turning on optional features and configuration changes" title="Direct link to 3.6: Turning on optional features and configuration changes">​</a></h2><p>Once the Instana server is installed, people frequently have the need to make modifications to the configuration.  There are two ways to make
changes.  First, you can execute the <strong>stanctl backend apply</strong> command and pass in parameters.  To see what options are available, type the following command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl backend apply --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will see a number of optional parameters that can be specified.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/flags-5bd4bd7ffb57441c851875af9575b87f.png" width="1146" height="296" class="img_ev3q"></p><p>During this lab, the only change we are going to make is to enable optional feature flags.</p><p>The syntax to enable a feature flag is to execute:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl backend apply --core-feature-flags &lt;flag name&gt;=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To disable a feature flag, run the same command, but set the value to <strong>false</strong> instead of <strong>true</strong>.</p><p>It is possible to enable multiple feature flags via a single command.</p><p>For this lab, let&#x27;s enable the synthetics capabilities.  This requires multiple flags to be enabled.  To enable all of the synthetics features, execute the following command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl backend apply  --core-feature-flags feature.synthetics.enabled=true feature.synthetic.browser.create.test.enabled=true feature.synthetic.browser.script.enabled=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will see output similar to what&#x27;s shown below indicating that you have successfully setup the feature flag.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/flagSuccess-1e8ff10e22f6c5bc89073c3cea357c55.png" width="1168" height="236" class="img_ev3q"></p><p>To see the synthetics feature flag within the Instana user interface, you must refresh your browser or log out and back in again.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Here is a list of several other feature flags that are frequently used.</p><ul><li>Logging:  stanctl backend apply --core-feature-flags feature.logging.enabled=true</li><li>Automation/Action Catalog:   stanctl backend apply --core-feature-flags feature.automation.enabled=true feature.action.automation.enabled=true</li><li>Power HMC:  stanctl backend apply --core-feature-flags feature.phmc.enabled=true</li><li>Z HMC:  stanctl backend apply --core-feature-flags feature.zhmc.enabled=true</li><li>Memory Leak Detection:  stanctl backend apply --core-feature-flags feature.rules.memoryleak.enabled=true</li><li>VMware vSphere Monitoring:  stanctl backend apply --core-feature-flags feature.vsphere.enabled=true</li><li>SLO features including apdex:  stanctl backend apply --core-feature-flags feature.slo.enabled=true feature.slo.websites.enabled=true feature.apdex.enabled=true feature.sloV2.enabled=true</li><li>Business Monitoring:  stanctl backend apply --core-feature-flags feature.business.observability.enabled=true</li></ul></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="37-upgrading-the-instana-server">3.7: Upgrading the Instana server<a href="#37-upgrading-the-instana-server" class="hash-link" aria-label="Direct link to 3.7: Upgrading the Instana server" title="Direct link to 3.7: Upgrading the Instana server">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Do not perform these steps</div><div class="admonitionContent_S0QG"><p>You should not perform any steps in this section, it is for information only.</p><p>We want you to know the process for performing an upgrade.</p></div></div><p>Note:  The following steps are a typical upgrade procedure, but it is important to always read the documentation in
case a particular version of the product requires additional steps or requirements such as increased CPU or Memory.</p><p>When upgrading an Instana server, it is important to know that you can only skip
one release when upgrading. The on-prem/self-hosted releases use odd numbers.
That means that you can upgrade from version 271 to either 273 or 275. But, you
can&#x27;t upgrade from 271 to 279 because that would be skipping 2 releases and
isn&#x27;t supported. It is important for customers to know this because they need to
keep their Instana server patched on a fairly regular basis. Otherwise, it will
mean that they will have to perform multiple steps to upgrade to the current
version.</p><p>This means that you typically want to plan to upgrade your Instana server every month or 2 at the most.  Otherwise, you have to perform multiple upgrades when you do decide to upgrade the server.</p><p>Before attempting to upgrade, you want to confirm your current version. Issue
the <strong>stanctl version</strong></p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you have pinned your version, then you can issue the following command.  This command is specific to Red Hat.   Similar commands are available for other platforms.
For example &quot;apt-mark hold stanctl&quot; for Ubuntu and Debian.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum versionlock delete stanctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have unlocked the yum repository, you can upgrade the stanctl command by typing:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum update stanctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Confirm that stanctl has been upgraded by typing:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Following the upgrade, you can use the following command to add the version lock back in place:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum versionlock add stanctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, you can upgrade the Instana server by issuing the following command:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will be prompted whether you want to upgrade the Instana server.  Select the option to upgrade the server and within 10 or 15 minutes the servers will be upgraded.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="38-setting-up-self-monitoring">3.8: Setting Up Self-Monitoring<a href="#38-setting-up-self-monitoring" class="hash-link" aria-label="Direct link to 3.8: Setting Up Self-Monitoring" title="Direct link to 3.8: Setting Up Self-Monitoring">​</a></h2><p>The <strong>Standard Edition</strong> Instana backend includes support for self-monitoring.  This can easily be setup via the <strong>stanctl</strong> command.
To enable self-monitoring, run the following command as the <strong>root</strong> user on <strong>Instana</strong> server.</p><p>From the terminal window, type:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stanctl agent apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will see output similar to what&#x27;s shown below.</p><p><img loading="lazy" src="/instana-techxchange/assets/images/self-monitoring-c60b51a02e90a41f2485accdad5a6b65.png" width="463" height="49" class="img_ev3q"></p><p>Within a short amount of time, the self-monitoring will begin monitoring:</p><ul><li>The host operating system </li><li>The kubernetes cluster</li><li>Cassandra Database</li><li>ClickHouse Database</li><li>PostgreSQL</li><li>Kafka</li><li>Zookeeper</li><li>JVMs</li><li>And more...</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="39-summary">3.9: Summary<a href="#39-summary" class="hash-link" aria-label="Direct link to 3.9: Summary" title="Direct link to 3.9: Summary">​</a></h2><p>In this portion of the lab, you have learned how to install a single server self-hosted <strong>Standard Edition</strong>
Instana server (backend). For a POC, we recommend either SaaS or the single server <strong>Standard Edition</strong>
installation of the Instana server. For small deployments, the <strong>single server Standard Edition</strong> is appropriate.
And, for medium sized deployments, you can deploy a <strong>3 node Standard Edition</strong> Instana server.  In some cases,
<strong>Standard Edition</strong> may not meet your needs for scale/horizontal scale or HA/resiliency.  In those cases, deploy the <strong>Custom Edition</strong> of Instana.</p><p>You have also learned how to configure the SMTP settings and how to enable
feature flags.</p><p>You learned how to upgrade the <strong>Standard Edition</strong> Instana server.</p><p>Finally, you learned how to setup the self-monitoring capability that is part of <strong>Standard Edition</strong></p><p>You are now ready to learn how to install and configure an Instana Agent.</p><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/IBM/instana-techxchange/tree/main/labs/instana-v2/server-and-agent-install-lab/3-server-installation/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/lab-environment/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">2. Lab Environment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/instana-techxchange/labs/instana-v2/server-and-agent-install-lab/agent-installation/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">4. Agent Installation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#31-introduction" class="table-of-contents__link toc-highlight">3.1: Introduction</a></li><li><a href="#32-prerequisites" class="table-of-contents__link toc-highlight">3.2: Prerequisites</a></li><li><a href="#33-installing-the-stanctl-command" class="table-of-contents__link toc-highlight">3.3: Installing the stanctl Command</a></li><li><a href="#34-installing-the-instana-server" class="table-of-contents__link toc-highlight">3.4: Installing the Instana Server</a></li><li><a href="#35-launch-the-instana-user-interface" class="table-of-contents__link toc-highlight">3.5: Launch the Instana User interface</a></li><li><a href="#36-turning-on-optional-features-and-configuration-changes" class="table-of-contents__link toc-highlight">3.6: Turning on optional features and configuration changes</a></li><li><a href="#37-upgrading-the-instana-server" class="table-of-contents__link toc-highlight">3.7: Upgrading the Instana server</a></li><li><a href="#38-setting-up-self-monitoring" class="table-of-contents__link toc-highlight">3.8: Setting Up Self-Monitoring</a></li><li><a href="#39-summary" class="table-of-contents__link toc-highlight">3.9: Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/docs/en/obi/current" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instana<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/au-en" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/instana-techxchange/assets/js/runtime~main.7251d3dc.js"></script>
<script src="/instana-techxchange/assets/js/main.085aa390.js"></script>
</body>
</html>